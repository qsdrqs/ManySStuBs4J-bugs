diff --git a/buggy/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorExtractRow.java b/fixed/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorExtractRow.java
index 631dcb258..94eaf5652 100644
--- a/buggy/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorExtractRow.java
+++ b/fixed/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorExtractRow.java
@@ -306,7 +306,8 @@ public class VectorExtractRow {
                 maxLengths[logicalColumnIndex]);
 
             HiveCharWritable hiveCharWritable = (HiveCharWritable) primitiveWritable;
-            hiveCharWritable.set(new String(bytes, start, adjustedLength, Charsets.UTF_8), -1);
+            hiveCharWritable.set(new String(bytes, start, adjustedLength, Charsets.UTF_8),
+                maxLengths[logicalColumnIndex]);
             return primitiveWritable;
           }
         case DECIMAL:
