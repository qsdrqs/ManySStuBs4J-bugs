diff --git a/buggy/src/jvm/clojure/lang/Compiler.java b/fixed/src/jvm/clojure/lang/Compiler.java
index cb14d96f0..9d744d70c 100644
--- a/buggy/src/jvm/clojure/lang/Compiler.java
+++ b/fixed/src/jvm/clojure/lang/Compiler.java
@@ -971,7 +971,7 @@ static class InstanceFieldExpr extends FieldExpr implements AssignableExpr{
 	public void emitAssign(C context, FnExpr fn, GeneratorAdapter gen,
 	                       Expr val){
 		gen.visitLineNumber(line, gen.mark());
-		if(targetClass != null)
+		if(targetClass != null && field != null)
 			{
 			target.emit(C.EXPRESSION, fn, gen);
 			gen.checkCast(Type.getType(targetClass));
