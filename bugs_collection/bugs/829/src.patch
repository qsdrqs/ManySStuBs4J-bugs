diff --git a/buggy/core/client/src/main/java/alluxio/client/file/options/CompleteUfsFileOptions.java b/fixed/core/client/src/main/java/alluxio/client/file/options/CompleteUfsFileOptions.java
index ecdf118..5a625f8 100644
--- a/buggy/core/client/src/main/java/alluxio/client/file/options/CompleteUfsFileOptions.java
+++ b/fixed/core/client/src/main/java/alluxio/client/file/options/CompleteUfsFileOptions.java
@@ -98,10 +98,10 @@ public final class CompleteUfsFileOptions {
    */
   public CompleteUfsFileTOptions toThrift() {
     CompleteUfsFileTOptions options = new CompleteUfsFileTOptions();
-    if (!mPermission.getOwner().isEmpty()) {
+    if (mPermission.getOwner() != null && !mPermission.getOwner().isEmpty()) {
       options.setOwner(mPermission.getOwner());
     }
-    if (!mPermission.getGroup().isEmpty()) {
+    if (mPermission.getGroup() != null && !mPermission.getGroup().isEmpty()) {
       options.setGroup(mPermission.getGroup());
     }
     short mode = mPermission.getMode().toShort();
