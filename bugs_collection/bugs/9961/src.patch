diff --git a/buggy/storm-webapp/src/main/java/org/apache/storm/daemon/logviewer/handler/LogviewerLogSearchHandler.java b/fixed/storm-webapp/src/main/java/org/apache/storm/daemon/logviewer/handler/LogviewerLogSearchHandler.java
index 710db6b2a..8d552e981 100644
--- a/buggy/storm-webapp/src/main/java/org/apache/storm/daemon/logviewer/handler/LogviewerLogSearchHandler.java
+++ b/fixed/storm-webapp/src/main/java/org/apache/storm/daemon/logviewer/handler/LogviewerLogSearchHandler.java
@@ -426,7 +426,8 @@ public class LogviewerLogSearchHandler {
 
             int newCount = matchCount + ((List<?>)theseMatches.get("matches")).size();
 
-            if (theseMatches.isEmpty()) {
+            //theseMatches is never empty! As guaranteed by the #get().size() method above
+            if (newCount == matchCount) {
                 // matches and matchCount is not changed
                 logs = rest(logs);
                 offset = 0;
