diff --git a/buggy/metrics-core/src/main/java/io/dropwizard/metrics/ExponentiallyDecayingReservoir.java b/fixed/metrics-core/src/main/java/io/dropwizard/metrics/ExponentiallyDecayingReservoir.java
index 46bcb93ca..7128deb7e 100644
--- a/buggy/metrics-core/src/main/java/io/dropwizard/metrics/ExponentiallyDecayingReservoir.java
+++ b/fixed/metrics-core/src/main/java/io/dropwizard/metrics/ExponentiallyDecayingReservoir.java
@@ -68,7 +68,7 @@ public class ExponentiallyDecayingReservoir implements Reservoir {
      * @param clock the clock used to timestamp samples and track rescaling
      */
     public ExponentiallyDecayingReservoir(int size, double alpha, Clock clock) {
-        this.values = new ConcurrentSkipListMap<Double, WeightedSample>();
+        this.values = new ConcurrentSkipListMap<>();
         this.lock = new ReentrantReadWriteLock();
         this.alpha = alpha;
         this.size = size;
@@ -171,7 +171,7 @@ public class ExponentiallyDecayingReservoir implements Reservoir {
                 this.startTime = currentTimeInSeconds();
                 final double scalingFactor = exp(-alpha * (startTime - oldStartTime));
 
-                final ArrayList<Double> keys = new ArrayList<Double>(values.keySet());
+                final ArrayList<Double> keys = new ArrayList<>(values.keySet());
                 for (Double key : keys) {
                     final WeightedSample sample = values.remove(key);
                     final WeightedSample newSample = new WeightedSample(sample.value, sample.weight * scalingFactor);
