diff --git a/buggy/src/com/google/javascript/jscomp/AmbiguateProperties.java b/fixed/src/com/google/javascript/jscomp/AmbiguateProperties.java
index 6b0aa9687..21b7d23c8 100644
--- a/buggy/src/com/google/javascript/jscomp/AmbiguateProperties.java
+++ b/fixed/src/com/google/javascript/jscomp/AmbiguateProperties.java
@@ -183,7 +183,7 @@ class AmbiguateProperties implements CompilerPass {
   /** Returns an integer that uniquely identifies a JSType. */
   private int getIntForType(JSType type) {
     // Templatized types don't exist at runtime, so collapse to raw type
-    if (type.isTemplatizedType()) {
+    if (type != null && type.isTemplatizedType()) {
       type = type.toMaybeTemplatizedType().getReferencedType();
     }
     if (intForType.containsKey(type)) {
