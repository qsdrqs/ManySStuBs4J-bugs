diff --git a/buggy/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServerOperationsFactory.java b/fixed/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServerOperationsFactory.java
index 2a4d9c1f9..23a8e4012 100644
--- a/buggy/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServerOperationsFactory.java
+++ b/fixed/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServerOperationsFactory.java
@@ -437,7 +437,7 @@ public final class ManagedServerOperationsFactory {
                 final String ref = include.asString();
                 if (processed.add(ref)) {
                     final ModelNode includedGroup = groups.get(ref);
-                    if (group == null) {
+                    if (includedGroup == null) {
                         throw MESSAGES.undefinedSocketBindingGroup(ref);
                     }
                     mergeBindingGroups(updates, groups, groupName, includedGroup, processed);
