diff --git a/buggy/src/com/google/javascript/jscomp/CommandLineRunner.java b/fixed/src/com/google/javascript/jscomp/CommandLineRunner.java
index d7ecd3258..bcfc68bb0 100644
--- a/buggy/src/com/google/javascript/jscomp/CommandLineRunner.java
+++ b/fixed/src/com/google/javascript/jscomp/CommandLineRunner.java
@@ -1754,7 +1754,7 @@ public class CommandLineRunner extends
     ConformanceConfig.Builder builder = ConformanceConfig.newBuilder();
 
     // Looking for BOM.
-    if (textProto.charAt(0) == UTF8_BOM_CODE) {
+    if (!textProto.isEmpty() && textProto.charAt(0) == UTF8_BOM_CODE) {
       // Stripping the BOM.
       textProto = textProto.substring(1);
     }
