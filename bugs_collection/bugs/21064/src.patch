diff --git a/buggy/api/src/main/java/org/openmrs/hl7/impl/HL7ServiceImpl.java b/fixed/api/src/main/java/org/openmrs/hl7/impl/HL7ServiceImpl.java
index 20033514b..c9c64051f 100644
--- a/buggy/api/src/main/java/org/openmrs/hl7/impl/HL7ServiceImpl.java
+++ b/fixed/api/src/main/java/org/openmrs/hl7/impl/HL7ServiceImpl.java
@@ -710,7 +710,7 @@ public class HL7ServiceImpl extends BaseOpenmrsService implements HL7Service {
 			        + Context.getAdministrationService().getGlobalProperty(
 			            OpenmrsConstants.GLOBAL_PROPERTY_IGNORE_MISSING_NONLOCAL_PATIENTS, "false"));
 			if (e.getCause() != null
-			        && e.getCause().getMessage().equals("Could not resolve patient")
+			        && "Could not resolve patient".equals(e.getCause().getMessage())
 			        && !"local".equals(hl7InQueue.getHL7Source().getName())
 			        && "true".equals(Context.getAdministrationService().getGlobalProperty(
 			            OpenmrsConstants.GLOBAL_PROPERTY_IGNORE_MISSING_NONLOCAL_PATIENTS, "false"))) {
