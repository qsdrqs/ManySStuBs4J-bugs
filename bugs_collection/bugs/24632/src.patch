diff --git a/buggy/ejb3/src/main/java/org/jboss/as/ejb3/component/stateless/StatelessComponentCreateServiceFactory.java b/fixed/ejb3/src/main/java/org/jboss/as/ejb3/component/stateless/StatelessComponentCreateServiceFactory.java
index ab6ae5be5..a057dd4a9 100644
--- a/buggy/ejb3/src/main/java/org/jboss/as/ejb3/component/stateless/StatelessComponentCreateServiceFactory.java
+++ b/fixed/ejb3/src/main/java/org/jboss/as/ejb3/component/stateless/StatelessComponentCreateServiceFactory.java
@@ -48,7 +48,7 @@ public class StatelessComponentCreateServiceFactory extends EJBComponentCreateSe
         configuration.getCreateDependencies().add(new DependencyConfigurator<StatelessSessionComponentCreateService>() {
             @Override
             public void configureDependency(ServiceBuilder<?> builder, StatelessSessionComponentCreateService service) {
-                builder.addDependency(RegistryInstallerService.SERVICE_NAME);
+                builder.addDependency(DependencyType.OPTIONAL, RegistryInstallerService.SERVICE_NAME);
                 builder.addDependency(DependencyType.OPTIONAL, ServiceName.JBOSS.append("clustering", "group", "ejb", "default"), Group.class, service.getGroupInjector());
                 builder.addDependency(DependencyType.OPTIONAL, EJBRemoteConnectorService.SERVICE_NAME);
             }
