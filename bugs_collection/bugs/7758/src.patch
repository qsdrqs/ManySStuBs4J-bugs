diff --git a/buggy/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerLocalWorkDirectoryTest.java b/fixed/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerLocalWorkDirectoryTest.java
index 85148f7e2..8b05616e4 100644
--- a/buggy/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerLocalWorkDirectoryTest.java
+++ b/fixed/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerLocalWorkDirectoryTest.java
@@ -68,7 +68,8 @@ public class FtpConsumerLocalWorkDirectoryTest extends FtpServerTestSupport {
 
         assertMockEndpointsSatisfied();
 
-        Thread.sleep(200);
+        // give test some time to close file resources
+        Thread.sleep(2000);
 
         // now the lwd file should be deleted
         File local = new File("target/lwd/hello.txt").getAbsoluteFile();
@@ -77,7 +78,7 @@ public class FtpConsumerLocalWorkDirectoryTest extends FtpServerTestSupport {
         // and the out file should exists
         File out = new File("target/out/hello.txt").getAbsoluteFile();
         assertTrue("file should exists", out.exists());
-        assertEquals("Hello World", IOConverter.toString(out));
+        assertEquals("Hello World", IOConverter.toString(out, null));
     }
 
     protected RouteBuilder createRouteBuilder() throws Exception {
