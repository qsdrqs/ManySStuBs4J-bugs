diff --git a/buggy/src/java/org/apache/hadoop/hbase/regionserver/Store.java b/fixed/src/java/org/apache/hadoop/hbase/regionserver/Store.java
index 740d2e6c1..d918473f8 100644
--- a/buggy/src/java/org/apache/hadoop/hbase/regionserver/Store.java
+++ b/fixed/src/java/org/apache/hadoop/hbase/regionserver/Store.java
@@ -882,7 +882,7 @@ public class Store implements HConstants {
           if (timesSeen <= maxVersions && !(expired = isExpired(kv, ttl, now))) {
             // If this value key is same as a deleted key, skip
             if (lastDelete != null &&
-                this.comparator.compare(kv, lastDelete) == 0) {
+                this.comparatorIgnoringType.compare(kv, lastDelete) == 0) {
               deleted = true;
             } else if (kv.isDeleteType()) {
               // If a deleted value, skip
