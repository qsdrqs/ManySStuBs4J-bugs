diff --git a/buggy/src/jvm/clojure/lang/PersistentArray.java b/fixed/src/jvm/clojure/lang/PersistentArray.java
index 67aad8e02..5eda4d11f 100644
--- a/buggy/src/jvm/clojure/lang/PersistentArray.java
+++ b/fixed/src/jvm/clojure/lang/PersistentArray.java
@@ -335,7 +335,7 @@ private void trim(){
         {
         Master nextMaster = data.master.next;
         int diff = 0;
-        for(int i=0;diff+i<length();i++)
+        for(int i=0;i<length()/2;i++)
             {
             Entry e = getEntry(i);
             if(e != null && e.rev != nextMaster.basis[i])
