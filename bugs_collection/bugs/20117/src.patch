diff --git a/buggy/src/test/java/org/jboss/netty/buffer/DuplicateChannelBufferTest.java b/fixed/src/test/java/org/jboss/netty/buffer/DuplicateChannelBufferTest.java
index 99e6fef6d..735228917 100644
--- a/buggy/src/test/java/org/jboss/netty/buffer/DuplicateChannelBufferTest.java
+++ b/fixed/src/test/java/org/jboss/netty/buffer/DuplicateChannelBufferTest.java
@@ -33,7 +33,7 @@ public class DuplicateChannelBufferTest extends AbstractChannelBufferTest {
 
     @Override
     protected ChannelBuffer newBuffer(int length) {
-        buffer = ChannelBuffers.buffer(length).duplicate();
+        buffer = new DuplicatedChannelBuffer(ChannelBuffers.buffer(length));
         assertEquals(0, buffer.writerIndex());
         return buffer;
     }
