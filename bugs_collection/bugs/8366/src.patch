diff --git a/buggy/flink-core/src/main/java/org/apache/flink/api/common/ExecutionConfig.java b/fixed/flink-core/src/main/java/org/apache/flink/api/common/ExecutionConfig.java
index c02bcadca..c27ee7460 100644
--- a/buggy/flink-core/src/main/java/org/apache/flink/api/common/ExecutionConfig.java
+++ b/fixed/flink-core/src/main/java/org/apache/flink/api/common/ExecutionConfig.java
@@ -778,7 +778,7 @@ public class ExecutionConfig implements Serializable {
 				useClosureCleaner == other.useClosureCleaner &&
 				parallelism == other.parallelism &&
 				((restartStrategyConfiguration == null && other.restartStrategyConfiguration == null) ||
-				restartStrategyConfiguration.equals(other.restartStrategyConfiguration)) &&
+					(null != restartStrategyConfiguration && restartStrategyConfiguration.equals(other.restartStrategyConfiguration))) &&
 				forceKryo == other.forceKryo &&
 				objectReuse == other.objectReuse &&
 				autoTypeRegistrationEnabled == other.autoTypeRegistrationEnabled &&
