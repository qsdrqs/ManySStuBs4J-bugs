diff --git a/buggy/codec-http2/src/main/java/io/netty/handler/codec/http2/InboundHttpToHttp2Adapter.java b/fixed/codec-http2/src/main/java/io/netty/handler/codec/http2/InboundHttpToHttp2Adapter.java
index 73fb3d80f..4cf2f004b 100644
--- a/buggy/codec-http2/src/main/java/io/netty/handler/codec/http2/InboundHttpToHttp2Adapter.java
+++ b/fixed/codec-http2/src/main/java/io/netty/handler/codec/http2/InboundHttpToHttp2Adapter.java
@@ -35,7 +35,7 @@ public class InboundHttpToHttp2Adapter extends ChannelInboundHandlerAdapter {
 
     private int getStreamId(HttpHeaders httpHeaders) {
         return httpHeaders.getInt(HttpConversionUtil.ExtensionHeaderNames.STREAM_ID.text(),
-            connection.remote().nextStreamId());
+                                  connection.remote().incrementAndGetNextStreamId());
     }
 
     @Override
