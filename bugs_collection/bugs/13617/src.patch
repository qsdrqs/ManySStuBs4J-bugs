diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/sql/planner/plan/ExchangeNode.java b/fixed/presto-main/src/main/java/com/facebook/presto/sql/planner/plan/ExchangeNode.java
index 8de6e994c..184d58c0b 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/sql/planner/plan/ExchangeNode.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/sql/planner/plan/ExchangeNode.java
@@ -127,7 +127,7 @@ public class ExchangeNode
                 scope,
                 partitioningScheme,
                 ImmutableList.of(child),
-                ImmutableList.of(child.getOutputSymbols()));
+                ImmutableList.of(partitioningScheme.getOutputLayout()));
     }
 
     public static ExchangeNode replicatedExchange(PlanNodeId id, Scope scope, PlanNode child)
