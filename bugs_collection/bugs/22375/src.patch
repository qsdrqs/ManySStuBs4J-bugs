diff --git a/buggy/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfigurationTests.java b/fixed/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfigurationTests.java
index 470870c6b..06f5ef2b9 100644
--- a/buggy/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfigurationTests.java
+++ b/fixed/spring-boot-autoconfigure/src/test/java/org/springframework/boot/autoconfigure/security/oauth2/OAuth2AutoConfigurationTests.java
@@ -131,8 +131,8 @@ public class OAuth2AutoConfigurationTests {
 		ClientDetails clientDetails = clientDetailsService.loadClientByClientId(config
 				.getClientId());
 		assertThat(AopUtils.isJdkDynamicProxy(clientDetailsService), equalTo(true));
-		assertThat(AopUtils.getTargetClass(clientDetailsService),
-				is(equalTo(InMemoryClientDetailsService.class)));
+		assertThat(AopUtils.getTargetClass(clientDetailsService).getName(),
+				is(equalTo(InMemoryClientDetailsService.class.getName())));
 		assertThat(handler instanceof ApprovalStoreUserApprovalHandler, equalTo(true));
 		assertThat(clientDetails, equalTo(config));
 		verifyAuthentication(config);
