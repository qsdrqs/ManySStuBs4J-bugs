diff --git a/buggy/src/main/java/org/jboss/netty/handler/codec/replay/ReplayingDecoderBuffer.java b/fixed/src/main/java/org/jboss/netty/handler/codec/replay/ReplayingDecoderBuffer.java
index ad1212493..9acc6ebdb 100644
--- a/buggy/src/main/java/org/jboss/netty/handler/codec/replay/ReplayingDecoderBuffer.java
+++ b/fixed/src/main/java/org/jboss/netty/handler/codec/replay/ReplayingDecoderBuffer.java
@@ -178,7 +178,7 @@ class ReplayingDecoderBuffer implements ChannelBuffer {
     }
 
     public int indexOf(int fromIndex, int toIndex, byte value) {
-        int endIndex = buffer.indexOf(buffer.readerIndex(), buffer.writerIndex(), value);
+        int endIndex = buffer.indexOf(fromIndex, toIndex, value);
         if (endIndex < 0) {
             throw REPLAY;
         }
@@ -187,7 +187,7 @@ class ReplayingDecoderBuffer implements ChannelBuffer {
 
     public int indexOf(int fromIndex, int toIndex,
             ChannelBufferIndexFinder indexFinder) {
-        int endIndex = buffer.indexOf(buffer.readerIndex(), buffer.writerIndex(), indexFinder);
+        int endIndex = buffer.indexOf(fromIndex, toIndex, indexFinder);
         if (endIndex < 0) {
             throw REPLAY;
         }
