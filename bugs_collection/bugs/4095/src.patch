diff --git a/buggy/tool/src/org/antlr/v4/semantics/BasicSemanticChecks.java b/fixed/tool/src/org/antlr/v4/semantics/BasicSemanticChecks.java
index 4ec33f0..25722cb 100644
--- a/buggy/tool/src/org/antlr/v4/semantics/BasicSemanticChecks.java
+++ b/fixed/tool/src/org/antlr/v4/semantics/BasicSemanticChecks.java
@@ -338,14 +338,14 @@ public class BasicSemanticChecks extends GrammarTreeVisitor {
 	{
 		boolean ok = true;
 		if ( parent.getType()==ANTLRParser.BLOCK ) {
-			if ( g.isLexer() && Grammar.LexerSubruleOptions.contains(optionID.getText()) ) { // block
+			if ( g.isLexer() && !Grammar.LexerBlockOptions.contains(optionID.getText()) ) { // block
 				g.tool.errMgr.grammarError(ErrorType.ILLEGAL_OPTION,
 										   g.fileName,
 										   optionID,
 										   optionID.getText());
 				ok = false;
 			}
-			if ( !g.isLexer() && Grammar.ParserSubruleOptions.contains(optionID.getText()) ) { // block
+			if ( !g.isLexer() && !Grammar.ParserBlockOptions.contains(optionID.getText()) ) { // block
 				g.tool.errMgr.grammarError(ErrorType.ILLEGAL_OPTION,
 										   g.fileName,
 										   optionID,
