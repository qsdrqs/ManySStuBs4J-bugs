diff --git a/buggy/hazelcast/src/main/java/com/hazelcast/map/MapService.java b/fixed/hazelcast/src/main/java/com/hazelcast/map/MapService.java
index 148c19528..0482f7a66 100644
--- a/buggy/hazelcast/src/main/java/com/hazelcast/map/MapService.java
+++ b/fixed/hazelcast/src/main/java/com/hazelcast/map/MapService.java
@@ -586,7 +586,7 @@ public class MapService implements ManagedService, MigrationAwareService, Member
                     oldValue = oldValue != null ? oldValue : toObject(dataOldValue);
                     testValue = oldValue;
                 } else {
-                    value = value != null ? value : toObject(value);
+                    value = value != null ? value : toObject(dataValue);
                     testValue = value;
                 }
                 key = key != null ? key : toObject(key);
