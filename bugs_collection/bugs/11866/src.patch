diff --git a/buggy/src/checkstyle/com/puppycrawl/tools/checkstyle/api/DetailAST.java b/fixed/src/checkstyle/com/puppycrawl/tools/checkstyle/api/DetailAST.java
index 1da77ef2b..d3748e372 100644
--- a/buggy/src/checkstyle/com/puppycrawl/tools/checkstyle/api/DetailAST.java
+++ b/fixed/src/checkstyle/com/puppycrawl/tools/checkstyle/api/DetailAST.java
@@ -172,7 +172,7 @@ public class DetailAST
     public DetailAST getLastChild()
     {
         AST ast = getFirstChild();
-        while (ast.getNextSibling() != null) {
+        while (ast != null && ast.getNextSibling() != null) {
             ast = ast.getNextSibling();
         }
         return (DetailAST) ast;
