diff --git a/buggy/src/main/java/org/jboss/netty/handler/codec/serialization/ObjectEncoderOutputStream.java b/fixed/src/main/java/org/jboss/netty/handler/codec/serialization/ObjectEncoderOutputStream.java
index 1fcbd594e..30c29041f 100644
--- a/buggy/src/main/java/org/jboss/netty/handler/codec/serialization/ObjectEncoderOutputStream.java
+++ b/fixed/src/main/java/org/jboss/netty/handler/codec/serialization/ObjectEncoderOutputStream.java
@@ -49,7 +49,7 @@ public class ObjectEncoderOutputStream extends OutputStream implements
         if (out == null) {
             throw new NullPointerException("out");
         }
-        if (estimatedLength < 8) {
+        if (estimatedLength < 0) {
             throw new IllegalArgumentException("estimatedLength: " + estimatedLength);
         }
 
