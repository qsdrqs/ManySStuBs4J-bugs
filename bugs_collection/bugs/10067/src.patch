diff --git a/buggy/storm-core/src/jvm/backtype/storm/metric/SystemBolt.java b/fixed/storm-core/src/jvm/backtype/storm/metric/SystemBolt.java
index f19b4bd79..ea44f6785 100644
--- a/buggy/storm-core/src/jvm/backtype/storm/metric/SystemBolt.java
+++ b/fixed/storm-core/src/jvm/backtype/storm/metric/SystemBolt.java
@@ -74,7 +74,7 @@ public class SystemBolt implements IBolt {
 
     @Override
     public void prepare(final Map stormConf, TopologyContext context, OutputCollector collector) {
-        if(_prepareWasCalled && stormConf.get(Config.STORM_CLUSTER_MODE) != "local") {
+        if(_prepareWasCalled && !"local".equals(stormConf.get(Config.STORM_CLUSTER_MODE))) {
             throw new RuntimeException("A single worker should have 1 SystemBolt instance.");
         }
         _prepareWasCalled = true;
