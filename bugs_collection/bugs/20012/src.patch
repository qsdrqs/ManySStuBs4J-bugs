diff --git a/buggy/src/main/java/org/jboss/netty/channel/local/LocalAddress.java b/fixed/src/main/java/org/jboss/netty/channel/local/LocalAddress.java
index 27c78cebd..06cf91b03 100644
--- a/buggy/src/main/java/org/jboss/netty/channel/local/LocalAddress.java
+++ b/fixed/src/main/java/org/jboss/netty/channel/local/LocalAddress.java
@@ -115,7 +115,7 @@ public final class LocalAddress extends SocketAddress implements Comparable<Loca
                 }
 
                 int a = System.identityHashCode(this);
-                int b = System.identityHashCode(this);
+                int b = System.identityHashCode(o);
                 if (a < b) {
                     return -1;
                 } else if (a > b) {
