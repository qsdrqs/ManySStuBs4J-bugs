diff --git a/buggy/storm-core/src/jvm/backtype/storm/scheduler/resource/strategies/ResourceAwareStrategy.java b/fixed/storm-core/src/jvm/backtype/storm/scheduler/resource/strategies/ResourceAwareStrategy.java
index b8a96a27f..3fe37ddad 100644
--- a/buggy/storm-core/src/jvm/backtype/storm/scheduler/resource/strategies/ResourceAwareStrategy.java
+++ b/fixed/storm-core/src/jvm/backtype/storm/scheduler/resource/strategies/ResourceAwareStrategy.java
@@ -263,7 +263,7 @@ public class ResourceAwareStrategy implements IStrategy {
     private Double distToNode(RAS_Node src, RAS_Node dest) {
         if (src.getId().equals(dest.getId())) {
             return 0.0;
-        } else if (this.NodeToCluster(src) == this.NodeToCluster(dest)) {
+        } else if (this.NodeToCluster(src).equals(this.NodeToCluster(dest))) {
             return 0.5;
         } else {
             return 1.0;
