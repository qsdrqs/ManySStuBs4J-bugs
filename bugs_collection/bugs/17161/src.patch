diff --git a/buggy/src/com/hazelcast/web/WebFilter.java b/fixed/src/com/hazelcast/web/WebFilter.java
index de486eed5..3a92da468 100644
--- a/buggy/src/com/hazelcast/web/WebFilter.java
+++ b/fixed/src/com/hazelcast/web/WebFilter.java
@@ -940,7 +940,7 @@ public class WebFilter implements Filter {
 
 		public String[] getValueNames() {
 			checkState();
-			return (String[]) atts.keySet().toArray();
+			return atts.keySet().toArray(new String[atts.size()]);
 		}
 
 		public byte[] hash(final Data data) {
