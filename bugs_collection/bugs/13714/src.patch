diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/sql/planner/optimizations/AddExchanges.java b/fixed/presto-main/src/main/java/com/facebook/presto/sql/planner/optimizations/AddExchanges.java
index f6cf19741..b5a71ecb8 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/sql/planner/optimizations/AddExchanges.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/sql/planner/optimizations/AddExchanges.java
@@ -303,7 +303,7 @@ public class AddExchanges
                 }
             }
             else {
-                if (child.getProperties().isNodePartitionedOn(partitioningRequirement)) {
+                if (child.getProperties().isStreamPartitionedOn(partitioningRequirement)) {
                     return rebaseAndDeriveProperties(node, child);
                 }
                 else {
