diff --git a/buggy/src/main/java/com/puppycrawl/tools/checkstyle/DefaultConfiguration.java b/fixed/src/main/java/com/puppycrawl/tools/checkstyle/DefaultConfiguration.java
index 89a4cc6ac..240f3eab2 100644
--- a/buggy/src/main/java/com/puppycrawl/tools/checkstyle/DefaultConfiguration.java
+++ b/fixed/src/main/java/com/puppycrawl/tools/checkstyle/DefaultConfiguration.java
@@ -104,7 +104,7 @@ public final class DefaultConfiguration implements Configuration {
      * @param value the value of the attribute.
      */
     public void addAttribute(String attributeName, String value) {
-        final String current = attributeMap.put(attributeName, value);
+        final String current = attributeMap.get(attributeName);
         if (current == null) {
             attributeMap.put(attributeName, value);
         }
