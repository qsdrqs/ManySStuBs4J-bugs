diff --git a/buggy/undertow/src/main/java/org/jboss/as/undertow/deployment/UndertowDeploymentProcessor.java b/fixed/undertow/src/main/java/org/jboss/as/undertow/deployment/UndertowDeploymentProcessor.java
index cae1407d8..cea198a83 100644
--- a/buggy/undertow/src/main/java/org/jboss/as/undertow/deployment/UndertowDeploymentProcessor.java
+++ b/fixed/undertow/src/main/java/org/jboss/as/undertow/deployment/UndertowDeploymentProcessor.java
@@ -354,7 +354,7 @@ public class UndertowDeploymentProcessor implements DeploymentUnitProcessor {
                 d.setMinorVersion(Integer.parseInt(servletVersion.charAt(2) + ""));
             } else {
                 d.setMajorVersion(3);
-                d.setMajorVersion(1);
+                d.setMinorVersion(1);
             }
 
             //for 2.2 apps we do not require a leading / in path mappings
