diff --git a/buggy/presto-spi/src/main/java/com/facebook/presto/spi/block/ArrayBlockBuilder.java b/fixed/presto-spi/src/main/java/com/facebook/presto/spi/block/ArrayBlockBuilder.java
index 49f26b6c3..7d124f0c6 100644
--- a/buggy/presto-spi/src/main/java/com/facebook/presto/spi/block/ArrayBlockBuilder.java
+++ b/fixed/presto-spi/src/main/java/com/facebook/presto/spi/block/ArrayBlockBuilder.java
@@ -95,7 +95,7 @@ public class ArrayBlockBuilder
     @Override
     public long getSizeInBytes()
     {
-        return values.getSizeInBytes() + ((Integer.BYTES + Byte.BYTES) * positionCount);
+        return values.getSizeInBytes() + ((Integer.BYTES + Byte.BYTES) * (long) positionCount);
     }
 
     @Override
