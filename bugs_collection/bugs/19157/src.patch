diff --git a/buggy/community/server/src/test/java/org/neo4j/server/rest/transactional/integration/TransactionErrorIT.java b/fixed/community/server/src/test/java/org/neo4j/server/rest/transactional/integration/TransactionErrorIT.java
index aa305b2f1..5ba22b359 100644
--- a/buggy/community/server/src/test/java/org/neo4j/server/rest/transactional/integration/TransactionErrorIT.java
+++ b/fixed/community/server/src/test/java/org/neo4j/server/rest/transactional/integration/TransactionErrorIT.java
@@ -96,7 +96,7 @@ public class TransactionErrorIT extends AbstractRestFunctionalTestBase
             out.println("3");
             out.close();
 
-            String url = "file://" + file.getAbsolutePath();
+            String url = file.toURI().toURL().toString().replace("\\", "\\\\");
             String query = "USING PERIODIC COMMIT 1 LOAD CSV FROM \\\"" + url + "\\\" AS line CREATE ({name: 1/toInt(line[0])});";
 
             // begin and execute and commit
