diff --git a/buggy/codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java b/fixed/codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java
index 6a92b94bb..53176f590 100644
--- a/buggy/codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java
+++ b/fixed/codec/src/main/java/io/netty/handler/codec/ByteToMessageCodec.java
@@ -32,7 +32,7 @@ public abstract class ByteToMessageCodec<I> extends ChannelDuplexHandler
     private final ByteToMessageDecoder decoder;
 
     protected ByteToMessageCodec(Class<?>... encodableMessageTypes) {
-        this.encodableMessageTypes = encodableMessageTypes;
+        this.encodableMessageTypes = ChannelHandlerUtil.acceptedMessageTypes(encodableMessageTypes);
         encoder = new MessageToByteEncoder<I>() {
             @Override
             public boolean isEncodable(Object msg) throws Exception {
