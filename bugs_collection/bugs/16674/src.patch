diff --git a/buggy/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java b/fixed/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java
index 9ed4a22df..6b5cc8ef4 100644
--- a/buggy/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java
+++ b/fixed/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java
@@ -82,7 +82,7 @@ public final class TestHazelcastInstanceFactory {
 
     public HazelcastInstance[] newInstances(Config config, int nodeCount) {
         final HazelcastInstance[] instances = new HazelcastInstance[count];
-        for (int i = 0; i < count; i++) {
+        for (int i = 0; i < nodeCount; i++) {
             instances[i] = newHazelcastInstance(config);
         }
         return instances;
