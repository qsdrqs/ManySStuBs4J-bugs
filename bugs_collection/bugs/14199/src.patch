diff --git a/buggy/LayoutAPI/src/org/gephi/layout/LayoutControllerImpl.java b/fixed/LayoutAPI/src/org/gephi/layout/LayoutControllerImpl.java
index 0e6a444d1..1e79af1dc 100644
--- a/buggy/LayoutAPI/src/org/gephi/layout/LayoutControllerImpl.java
+++ b/fixed/LayoutAPI/src/org/gephi/layout/LayoutControllerImpl.java
@@ -60,7 +60,7 @@ public class LayoutControllerImpl implements LayoutController {
             }
 
             public void unselect(Workspace workspace) {
-                if (model.getSelectedLayout() != null) {
+                if (model != null && model.getSelectedLayout() != null) {
                     model.saveProperties(model.getSelectedLayout());
                 }
             }
