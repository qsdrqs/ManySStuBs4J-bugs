diff --git a/buggy/src/main/java/org/apache/hadoop/hbase/KeyValue.java b/fixed/src/main/java/org/apache/hadoop/hbase/KeyValue.java
index 14c5c8c48..6ab3f5dea 100644
--- a/buggy/src/main/java/org/apache/hadoop/hbase/KeyValue.java
+++ b/fixed/src/main/java/org/apache/hadoop/hbase/KeyValue.java
@@ -1930,9 +1930,10 @@ public class KeyValue implements Writable, HeapSize {
   // HeapSize
   public long heapSize() {
     return ClassSize.align(ClassSize.OBJECT + (2 * ClassSize.REFERENCE) +
-        ClassSize.align(ClassSize.ARRAY + length) +
+        ClassSize.align(ClassSize.ARRAY) + ClassSize.align(length) +
         (3 * Bytes.SIZEOF_INT) +
-        ClassSize.align(ClassSize.ARRAY + (rowCache == null ? 0 : rowCache.length)) +
+        ClassSize.align(ClassSize.ARRAY) +
+        ClassSize.align((rowCache == null ? 0 : rowCache.length)) +
         (2 * Bytes.SIZEOF_LONG));
   }
 
