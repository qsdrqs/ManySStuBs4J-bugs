diff --git a/buggy/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java b/fixed/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java
index 6b5cc8ef4..1ad1645d1 100644
--- a/buggy/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java
+++ b/fixed/hazelcast/src/test/java/com/hazelcast/test/TestHazelcastInstanceFactory.java
@@ -81,7 +81,7 @@ public final class TestHazelcastInstanceFactory {
     }
 
     public HazelcastInstance[] newInstances(Config config, int nodeCount) {
-        final HazelcastInstance[] instances = new HazelcastInstance[count];
+        final HazelcastInstance[] instances = new HazelcastInstance[nodeCount];
         for (int i = 0; i < nodeCount; i++) {
             instances[i] = newHazelcastInstance(config);
         }
