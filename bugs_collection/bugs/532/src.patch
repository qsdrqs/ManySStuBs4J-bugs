diff --git a/buggy/core/server/master/src/main/java/alluxio/master/file/UfsSyncChecker.java b/fixed/core/server/master/src/main/java/alluxio/master/file/UfsSyncChecker.java
index 88ea2ed..b7223b4 100644
--- a/buggy/core/server/master/src/main/java/alluxio/master/file/UfsSyncChecker.java
+++ b/fixed/core/server/master/src/main/java/alluxio/master/file/UfsSyncChecker.java
@@ -108,7 +108,7 @@ public final class UfsSyncChecker {
       inodePos++;
     }
 
-    if (ufsPos == ufsChildren.length) {
+    if (ufsPos == numUfsChildren) {
       // Directory is in sync
       mSyncedDirectories.put(alluxioUri, inode);
     } else {
