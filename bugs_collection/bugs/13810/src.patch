diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/sql/gen/InCodeGenerator.java b/fixed/presto-main/src/main/java/com/facebook/presto/sql/gen/InCodeGenerator.java
index cbc055895..fa13263c7 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/sql/gen/InCodeGenerator.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/sql/gen/InCodeGenerator.java
@@ -62,7 +62,7 @@ public class InCodeGenerator
     static SwitchGenerationCase checkSwitchGenerationCase(Type type, List<RowExpression> values)
     {
         if (values.size() <= 1000) {
-            if (type instanceof BigintType || type instanceof DateType) {
+            if (!(type instanceof BigintType || type instanceof DateType)) {
                 return SwitchGenerationCase.HASH_SWITCH;
             }
             boolean areSmallPrimitives = true;
