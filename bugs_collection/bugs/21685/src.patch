diff --git a/buggy/dex-ir/src/main/java/com/googlecode/dex2jar/ir/ts/TopologicalSort.java b/fixed/dex-ir/src/main/java/com/googlecode/dex2jar/ir/ts/TopologicalSort.java
index c3dae59d2..a8e6dfa36 100644
--- a/buggy/dex-ir/src/main/java/com/googlecode/dex2jar/ir/ts/TopologicalSort.java
+++ b/fixed/dex-ir/src/main/java/com/googlecode/dex2jar/ir/ts/TopologicalSort.java
@@ -91,7 +91,7 @@ public class TopologicalSort implements Transformer {
          */
         for (JumpStmt gotoStmt : gotos) {
             Stmt t = gotoStmt.getNext();
-            while (t.st == ST.LABEL) {
+            while (t != null && t.st == ST.LABEL) {
                 if (t == gotoStmt.target) {
                     stmts.remove(gotoStmt);
                     break;
