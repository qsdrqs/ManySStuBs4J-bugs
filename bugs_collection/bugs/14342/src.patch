diff --git a/buggy/DesktopExport/src/org/gephi/desktop/io/export/api/GraphFileExporterUI.java b/fixed/DesktopExport/src/org/gephi/desktop/io/export/api/GraphFileExporterUI.java
index c45c68510..a8d30e6bc 100644
--- a/buggy/DesktopExport/src/org/gephi/desktop/io/export/api/GraphFileExporterUI.java
+++ b/fixed/DesktopExport/src/org/gephi/desktop/io/export/api/GraphFileExporterUI.java
@@ -153,7 +153,7 @@ public final class GraphFileExporterUI implements ExporterClassUI {
                 }
 
                 //Selected file extension change
-                if (selectedFile != null) {
+                if (selectedFile != null && fileFilter != null) {
                     String filePath = selectedFile.getAbsolutePath();
                     filePath = filePath.substring(0, filePath.lastIndexOf("."));
                     filePath = filePath.concat(fileFilter.getExtensions().get(0));
@@ -177,7 +177,7 @@ public final class GraphFileExporterUI implements ExporterClassUI {
             for (FileType fileType : graphFileExporter.getFileTypes()) {
                 DialogFileFilter dialogFileFilter = new DialogFileFilter(fileType.getName());
                 dialogFileFilter.addExtensions(fileType.getExtensions());
-                if(defaultFilter==null) {
+                if (defaultFilter == null) {
                     defaultFilter = dialogFileFilter;
                 }
                 chooser.addChoosableFileFilter(dialogFileFilter);
