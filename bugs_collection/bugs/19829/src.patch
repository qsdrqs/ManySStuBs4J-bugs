diff --git a/buggy/transport/src/main/java/io/netty/channel/AbstractChannel.java b/fixed/transport/src/main/java/io/netty/channel/AbstractChannel.java
index e117ed633..9bed510a6 100644
--- a/buggy/transport/src/main/java/io/netty/channel/AbstractChannel.java
+++ b/fixed/transport/src/main/java/io/netty/channel/AbstractChannel.java
@@ -698,7 +698,7 @@ public abstract class AbstractChannel extends DefaultAttributeMap implements Cha
                         promise.setFailure(t);
                     }
 
-                    if (closedChannelException != null) {
+                    if (closedChannelException == null) {
                         closedChannelException = new ClosedChannelException();
                     }
 
