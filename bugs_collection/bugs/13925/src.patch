diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/sql/gen/SqlTypeByteCodeExpression.java b/fixed/presto-main/src/main/java/com/facebook/presto/sql/gen/SqlTypeByteCodeExpression.java
index 13fb5c970..90510aa53 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/sql/gen/SqlTypeByteCodeExpression.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/sql/gen/SqlTypeByteCodeExpression.java
@@ -55,7 +55,7 @@ public class SqlTypeByteCodeExpression
     @Override
     public ByteCodeNode getByteCode()
     {
-        return InvokeInstruction.invokeDynamic(type.getName(), binding.getType(), bootstrapMethod, binding.getBindingId());
+        return InvokeInstruction.invokeDynamic(type.getName().replaceAll("\\W+", "_"), binding.getType(), bootstrapMethod, binding.getBindingId());
     }
 
     @Override
