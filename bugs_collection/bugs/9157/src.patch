diff --git a/buggy/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorMetrics.java b/fixed/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorMetrics.java
index 16bb6d93a..e7b71ecad 100644
--- a/buggy/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorMetrics.java
+++ b/fixed/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorMetrics.java
@@ -472,7 +472,7 @@ public class TestCoprocessorMetrics {
       // close one of the regions
       try (RegionLocator locator = connection.getRegionLocator(tableName)) {
         HRegionLocation loc = locator.getRegionLocation(foo);
-        admin.closeRegion(loc.getServerName(), loc.getRegionInfo());
+        admin.unassign(loc.getRegionInfo().getEncodedNameAsBytes(), true);
 
         HRegionServer server = UTIL.getMiniHBaseCluster().getRegionServer(loc.getServerName());
         UTIL.waitFor(30000,
