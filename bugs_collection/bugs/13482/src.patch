diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/memory/LocalMemoryManager.java b/fixed/presto-main/src/main/java/com/facebook/presto/memory/LocalMemoryManager.java
index 8a82a1d35..0011eca2f 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/memory/LocalMemoryManager.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/memory/LocalMemoryManager.java
@@ -49,7 +49,7 @@ public final class LocalMemoryManager
         maxMemory = new DataSize(maxHeap - systemMemoryConfig.getReservedSystemMemory().toBytes(), BYTE);
 
         ImmutableMap.Builder<MemoryPoolId, MemoryPool> builder = ImmutableMap.builder();
-        checkArgument(config.getMaxQueryMemoryPerNode().toBytes() < maxMemory.toBytes(), format("%s set to %s, but only %s of useable heap available", QUERY_MAX_MEMORY_PER_NODE_CONFIG, config.getMaxQueryMemoryPerNode(), maxMemory));
+        checkArgument(config.getMaxQueryMemoryPerNode().toBytes() <= maxMemory.toBytes(), format("%s set to %s, but only %s of useable heap available", QUERY_MAX_MEMORY_PER_NODE_CONFIG, config.getMaxQueryMemoryPerNode(), maxMemory));
         builder.put(RESERVED_POOL, new MemoryPool(RESERVED_POOL, config.getMaxQueryMemoryPerNode()));
         DataSize generalPoolSize = new DataSize(Math.max(0, maxMemory.toBytes() - config.getMaxQueryMemoryPerNode().toBytes()), BYTE);
         builder.put(GENERAL_POOL, new MemoryPool(GENERAL_POOL, generalPoolSize));
