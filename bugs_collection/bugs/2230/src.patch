diff --git a/buggy/modules/cpr/src/test/java/org/atmosphere/cpr/BroadcasterTest.java b/fixed/modules/cpr/src/test/java/org/atmosphere/cpr/BroadcasterTest.java
index 9be2e59..d967046 100644
--- a/buggy/modules/cpr/src/test/java/org/atmosphere/cpr/BroadcasterTest.java
+++ b/fixed/modules/cpr/src/test/java/org/atmosphere/cpr/BroadcasterTest.java
@@ -133,7 +133,7 @@ public class BroadcasterTest {
 
         broadcaster.broadcast("foo", set).get();
 
-        assertEquals(atmosphereHandler.value.get(), new HashSet());
+        assertEquals(atmosphereHandler.value.get(), set);
     }
 
     public final static class AR implements AtmosphereHandler {
