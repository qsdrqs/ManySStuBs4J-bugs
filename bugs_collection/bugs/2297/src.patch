diff --git a/buggy/modules/jersey/src/main/java/org/atmosphere/jersey/AtmosphereFilter.java b/fixed/modules/jersey/src/main/java/org/atmosphere/jersey/AtmosphereFilter.java
index ac7706d..1b1cfcf 100644
--- a/buggy/modules/jersey/src/main/java/org/atmosphere/jersey/AtmosphereFilter.java
+++ b/fixed/modules/jersey/src/main/java/org/atmosphere/jersey/AtmosphereFilter.java
@@ -224,7 +224,8 @@ public class AtmosphereFilter implements ResourceFilterFactory {
         }
 
         boolean outputJunk(AtmosphereResource r, boolean outputJunk) {
-            if (!r.transport().equals(AtmosphereResource.TRANSPORT.STREAMING)) {
+            if (outputJunk && !r.transport().equals(AtmosphereResource.TRANSPORT.STREAMING)
+                    && !r.transport().equals(AtmosphereResource.TRANSPORT.UNDEFINED)) {
                 return false;
             }
 
