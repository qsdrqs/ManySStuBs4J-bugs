diff --git a/buggy/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java b/fixed/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java
index 3105b0498..501ef58f8 100644
--- a/buggy/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java
+++ b/fixed/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java
@@ -362,7 +362,7 @@ public class JmsProducer extends DefaultAsyncProducer {
 
     protected void setMessageId(Exchange exchange) {
         if (exchange.hasOut()) {
-            JmsMessage out = (JmsMessage) exchange.getOut();
+            JmsMessage out = exchange.getOut(JmsMessage.class);
             try {
                 if (out != null && out.getJmsMessage() != null) {
                     out.setMessageId(out.getJmsMessage().getJMSMessageID());
