diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/server/PluginManager.java b/fixed/presto-main/src/main/java/com/facebook/presto/server/PluginManager.java
index fcee8b811..60a38a65f 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/server/PluginManager.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/server/PluginManager.java
@@ -302,7 +302,7 @@ public class PluginManager
     private static List<Artifact> sortedArtifacts(List<Artifact> artifacts)
     {
         List<Artifact> list = Lists.newArrayList(artifacts);
-        Collections.sort(list, Ordering.natural().onResultOf(artifactFileGetter()));
+        Collections.sort(list, Ordering.natural().nullsLast().onResultOf(artifactFileGetter()));
         return list;
     }
 
