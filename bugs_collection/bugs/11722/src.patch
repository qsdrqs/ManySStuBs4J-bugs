diff --git a/buggy/src/checkstyle/com/puppycrawl/tools/checkstyle/Main.java b/fixed/src/checkstyle/com/puppycrawl/tools/checkstyle/Main.java
index 1c8cac311..b9fc33af9 100644
--- a/buggy/src/checkstyle/com/puppycrawl/tools/checkstyle/Main.java
+++ b/fixed/src/checkstyle/com/puppycrawl/tools/checkstyle/Main.java
@@ -166,7 +166,7 @@ public final class Main
             files.add(new File(element));
         }
 
-        if (files.isEmpty()) {
+        if (files.isEmpty() && !aLine.hasOption("r")) {
             System.out.println("Must specify files to process");
             usage();
         }
