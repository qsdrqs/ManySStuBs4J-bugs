diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/sql/analyzer/ExpressionAnalyzer.java b/fixed/presto-main/src/main/java/com/facebook/presto/sql/analyzer/ExpressionAnalyzer.java
index 4fec99df1..d57e95845 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/sql/analyzer/ExpressionAnalyzer.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/sql/analyzer/ExpressionAnalyzer.java
@@ -811,7 +811,7 @@ public class ExpressionAnalyzer
         @Override
         protected Type visitExpression(Expression node, AnalysisContext context)
         {
-            throw new UnsupportedOperationException("not yet implemented: " + node.getClass().getName());
+            throw new SemanticException(NOT_SUPPORTED, node, "not yet implemented: " + node.getClass().getName());
         }
 
         private Type getOperator(AnalysisContext context, Expression node, OperatorType operatorType, Expression... arguments)
