diff --git a/buggy/hazelcast/src/main/java/com/hazelcast/config/XmlConfigBuilder.java b/fixed/hazelcast/src/main/java/com/hazelcast/config/XmlConfigBuilder.java
index d2dfa3b6a..ce7120bd6 100644
--- a/buggy/hazelcast/src/main/java/com/hazelcast/config/XmlConfigBuilder.java
+++ b/fixed/hazelcast/src/main/java/com/hazelcast/config/XmlConfigBuilder.java
@@ -863,9 +863,9 @@ public class XmlConfigBuilder extends AbstractXmlConfigHelper implements ConfigB
     	for (org.w3c.dom.Node child : new IterableNodeList(node.getChildNodes())) {
     		final String nodeName = cleanNodeName(child.getNodeName());
     		if("endpoints".equals(nodeName)) {
-    			handleSecurityPermissionEndpoints(principalNode, permConfig);
+    			handleSecurityPermissionEndpoints(child, permConfig);
     		} else if("actions".equals(nodeName)) {
-    			handleSecurityPermissionActions(principalNode, permConfig);
+    			handleSecurityPermissionActions(child, permConfig);
     		}
     	}
     }
