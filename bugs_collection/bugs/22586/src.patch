diff --git a/buggy/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/autoconfigure/SpringIntegrationCompilerAutoConfiguration.java b/fixed/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/autoconfigure/SpringIntegrationCompilerAutoConfiguration.java
index 75e930b03..256f40704 100644
--- a/buggy/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/autoconfigure/SpringIntegrationCompilerAutoConfiguration.java
+++ b/fixed/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/autoconfigure/SpringIntegrationCompilerAutoConfiguration.java
@@ -32,7 +32,8 @@ public class SpringIntegrationCompilerAutoConfiguration extends CompilerAutoConf
 
 	@Override
 	public boolean matches(ClassNode classNode) {
-		return AstUtils.hasAtLeastOneAnnotation(classNode, "EnableIntegration");
+		return AstUtils.hasAtLeastOneAnnotation(classNode, "EnableIntegration")
+				|| AstUtils.hasAtLeastOneAnnotation(classNode, "MessageEndpoint");
 	}
 
 	@Override
