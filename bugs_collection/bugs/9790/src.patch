diff --git a/buggy/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java b/fixed/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java
index 669bd81dd..33f227fe6 100644
--- a/buggy/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java
+++ b/fixed/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java
@@ -442,7 +442,7 @@ public class QTestGenTask extends Task {
       }
       ctx.put("logDir", relativePath(hiveRootDir, logDir));
       ctx.put("clusterMode", clusterMode);
-      ctx.put("hiveConfDir", hiveConfDir);
+      ctx.put("hiveConfDir", escapePath(hiveConfDir));
       ctx.put("hadoopVersion", hadoopVersion);
 
       File outFile = new File(outDir, className + ".java");
