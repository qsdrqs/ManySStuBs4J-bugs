diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/execution/SqlTaskExecution.java b/fixed/presto-main/src/main/java/com/facebook/presto/execution/SqlTaskExecution.java
index 542474af6..f4d2341e7 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/execution/SqlTaskExecution.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/execution/SqlTaskExecution.java
@@ -420,7 +420,7 @@ public class SqlTaskExecution
             while (!taskOutput.getState().isDone()) {
                 FutureTask<?> futureTask = scheduledWorkers.pollFirst(1, TimeUnit.SECONDS);
                 // if we got a task and the state is not done, run the task
-                if (futureTask != null && taskOutput.getState().isDone()) {
+                if (futureTask != null && !taskOutput.getState().isDone()) {
                     futureTask.run();
                 }
             }
