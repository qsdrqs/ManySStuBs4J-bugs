diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/type/RealOperators.java b/fixed/presto-main/src/main/java/com/facebook/presto/type/RealOperators.java
index 7f0768a20..dc0544580 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/type/RealOperators.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/type/RealOperators.java
@@ -165,7 +165,7 @@ public final class RealOperators
     @SqlType(StandardTypes.BIGINT)
     public static long hashCode(@SqlType(StandardTypes.REAL) long value)
     {
-        return AbstractIntType.hash((int) value);
+        return AbstractIntType.hash(floatToIntBits(intBitsToFloat((int) value)));
     }
 
     @ScalarOperator(XX_HASH_64)
