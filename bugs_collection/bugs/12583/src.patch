diff --git a/buggy/metrics-core/src/test/java/com/yammer/metrics/reporting/tests/AbstractPollingReporterTest.java b/fixed/metrics-core/src/test/java/com/yammer/metrics/reporting/tests/AbstractPollingReporterTest.java
index dcfe811ce..47e181575 100644
--- a/buggy/metrics-core/src/test/java/com/yammer/metrics/reporting/tests/AbstractPollingReporterTest.java
+++ b/fixed/metrics-core/src/test/java/com/yammer/metrics/reporting/tests/AbstractPollingReporterTest.java
@@ -51,7 +51,7 @@ public abstract class AbstractPollingReporterTest {
             registry.add(new MetricName(Object.class, "metric"), metric);
             reporter.run();
             out.flush();
-            final String[] lines = out.toString().split("\n");
+            final String[] lines = out.toString().split("\r?\n|\r");
             // Assertions: first check that the line count matches then compare line by line ignoring leading and trailing whitespace
             assertEquals("Line count mismatch, was:\n" + Arrays.toString(lines) + "\nexpected:\n" + Arrays
                     .toString(expected) + "\n", expected.length,
