diff --git a/buggy/presto-main/src/main/java/com/facebook/presto/execution/SqlQueryManager.java b/fixed/presto-main/src/main/java/com/facebook/presto/execution/SqlQueryManager.java
index 95d12c32d..d292967f4 100644
--- a/buggy/presto-main/src/main/java/com/facebook/presto/execution/SqlQueryManager.java
+++ b/fixed/presto-main/src/main/java/com/facebook/presto/execution/SqlQueryManager.java
@@ -253,7 +253,7 @@ public class SqlQueryManager
 
         // start the query in the background
         if (!queryStarter.submit(queryExecution)) {
-            return createFailedQuery(session, query, queryId, new PrestoException(QUERY_QUEUE_FULL, "Too many queued queries!"));
+            queryExecution.fail(new PrestoException(QUERY_QUEUE_FULL, "Too many queued queries!"));
         }
 
         return queryExecution.getQueryInfo();
